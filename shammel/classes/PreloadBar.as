package shammel.classes{	import flash.display.*;	import flash.geom.Matrix;		public class PreloadBar extends Sprite	{		private var progressBarWidth:Number;		private var barBG:Sprite;		private var barFG:Sprite;		private var foregroundColor:uint;		private var foregroundColor2:uint;		private var preloadBarHeight:Number;		private var matrix:Matrix;				public function PreloadBar(fgColor:uint = 0xC9AE52, fgColor2:uint = 0x6D5623, bgColor:uint = 0x000000, barWidth:Number = 600, barHeight:Number = 10):void		{			progressBarWidth = barWidth;			foregroundColor = fgColor;			foregroundColor2 = fgColor2;			preloadBarHeight = barHeight;			matrix = new Matrix();			matrix.createGradientBox(barWidth, barHeight, 90 * Math.PI/180);						barBG = new Sprite();			with(barBG.graphics)			{				//beginGradientFill(GradientType.LINEAR, 				moveTo(0,0);				beginFill(bgColor);				drawRect(0,0,barWidth,barHeight);				endFill();			}			addChildAt(barBG, this.numChildren);						barFG = new Sprite();			with(barFG.graphics)			{				moveTo(0,0);				beginFill(fgColor);				drawRect(0,0,0, barHeight);				endFill();			}			addChildAt(barFG, this.numChildren)		}				public function updateProgress(progress:Number):void		{			with(barFG.graphics)			{				clear();				moveTo(0,0);				beginGradientFill(GradientType.LINEAR, [foregroundColor, foregroundColor2], [1,1], [0,255], matrix);				drawRect(0,0,progress * progressBarWidth, preloadBarHeight);				endFill();			}		}	}}